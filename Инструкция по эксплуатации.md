# Инструкция по эксплуатации модели Большого адронного коллайдера

<img width="1024" height="1024" alt="image" src="https://github.com/user-attachments/assets/ef1fd582-c650-485a-84f9-c02223bb294a" />

## 1. Введение

Эта инструкция предназначена для пользователей улучшенной учебной модели Большого адронного коллайдера (БАК). Модель реализована с использованием принципов ООП и модульной архитектуры, что делает её более поддерживаемой, тестируемой и расширяемой по сравнению с исходной версией.

**Важно!** Это учебная модель, основанная на реальных данных из открытых источников. Она не предназначена для профессиональных научных исследований, но предоставляет мощный инструмент для изучения физики высоких энергий.

## 2. Установка и запуск

### Требования к системе
- Python 3.8 или новее
- Библиотеки: numpy, matplotlib, scipy
- Для интерактивной 3D-визуализации: plotly
- Для анимаций: ffmpeg или pillow

### Установка зависимостей
```bash
pip install numpy matplotlib scipy plotly pillow
```

### Запуск модели
Сохраните код модели в файл `lhc_model.py` и запустите:
```bash
python lhc_model.py
```

Для запуска с пользовательскими параметрами:
```python
from lhc_model import LHCModel

# Создание модели
lhc = LHCModel()

# Запуск полной симуляции с 10 столкновениями
lhc.run_full_simulation(num_collisions=10)
```

## 3. Основные компоненты системы

Модель состоит из следующих основных компонентов:

1. **ParticleDatabase** - управляет базой данных частиц и их свойствами
2. **BeamDynamics** - моделирует динамику пучка частиц
3. **CollisionSimulator** - симулирует столкновения и генерирует продукты
4. **DetectorSystem** - моделирует систему детектирования
5. **VisualizationEngine** - отвечает за визуализацию данных
6. **LHCModel** - основной класс, объединяющий все компоненты

## 4. Базовое использование

### 4.1. Инициализация модели

<img width="1024" height="1024" alt="image" src="https://github.com/user-attachments/assets/c3b46d44-95d0-4907-8ce8-fdf5925cc71a" />

```python
from lhc_model import LHCModel

# Создание модели с реальными параметрами БАК
lhc = LHCModel()
```

### 4.2. Визуализация структуры коллайдера
```python
# 2D визуализация кольца
lhc.visualization.visualize_ring()

# 3D визуализация кольца (требуется Plotly)
lhc.visualization.visualize_ring_3d()
```

### 4.3. Симуляция и визуализация столкновений
```python
# Симуляция одного столкновения
lhc.visualization.collision_simulator.visualize()

# Интерактивная визуализация (требуется Plotly)
lhc.visualization.collision_simulator.visualize_interactive()
```

### 4.4. Анализ динамики пучка
```python
# Симуляция динамики пучка за 1000 оборотов
lhc.visualization.beam_dynamics.visualize(num_turns=1000)
```

### 4.5. Визуализация распада частиц
```python
# Визуализация цепочки распада бозона Хиггса
lhc.visualization.visualize_particle_decay('higgs_boson')
```

### 4.6. Экспорт данных
```python
# Экспорт результатов симуляции в формат ROOT
lhc.export_to_root("lhc_results.root")

# Генерация событий с использованием MadGraph
lhc.generate_events_with_madgraph(process="p p > h", num_events=100)
```

## 5. Примеры решения задач

### Задача 1: Анализ вероятностей различных типов столкновений

**Цель:** Изучить, как меняются вероятности различных типов столкновений при изменении энергии.

**Решение:**
```python
from lhc_model import LHCModel

lhc = LHCModel()
collision_simulator = lhc.collision_simulator

# Получение вероятностей для энергии 13 ТэВ
probabilities_13tev = collision_simulator._get_collision_probabilities(13e12)
print("Вероятности при 13 ТэВ:")
for event_type, prob in probabilities_13tev.items():
    print(f"- {event_type.replace('_', ' ').title()}: {prob:.6f}")

# Получение вероятностей для энергии 7 ТэВ
probabilities_7tev = collision_simulator._get_collision_probabilities(7e12)
print("\nВероятности при 7 ТэВ:")
for event_type, prob in probabilities_7tev.items():
    print(f"- {event_type.replace('_', ' ').title()}: {prob:.6f}")

# Визуализация
collision_simulator.visualize(energy=13e12)
```

**Интерпретация результатов:**
- Вероятность упругого рассеяния снижается с ростом энергии
- Вероятность производства бозона Хиггса значительно возрастает при переходе от 7 ТэВ к 13 ТэВ
- При 7 ТэВ вероятность обнаружения бозона Хиггса очень мала (~10^-7)
- Это объясняет, почему для открытия бозона Хиггса потребовались запуски на максимальной энергии

### Задача 2: Симуляция распада бозона Хиггса

**Цель:** Изучить основные каналы распада бозона Хиггса и их вероятности.

**Решение:**
```python
from lhc_model import LHCModel

lhc = LHCModel()

# Визуализация цепочки распада
lhc.visualization.visualize_particle_decay('higgs_boson')

# Получение коэффициентов ветвления
particle_db = lhc.particle_db
decay_products = particle_db.get_particle_decay_products('higgs_boson')

print("Каналы распада бозона Хиггса:")
for particle, prob in decay_products:
    print(f"- {particle.replace('_', ' ').title()}: {prob:.4f}")
```

**Интерпретация результатов:**
- Наиболее вероятный канал: распад на пару b-кварков (~57.7%)
- Значительная вероятность распада на пару W-бозонов (~21.5%)
- Редкие каналы: распад на пару фотонов (~0.23%)
- Для обнаружения бозона Хиггса используются как доминирующие, так и редкие каналы

### Задача 3: Анализ динамики пучка

**Цель:** Исследовать, как изменяются параметры пучка за время работы коллайдера.

**Решение:**
```python
from lhc_model import LHCModel

lhc = LHCModel()
beam_dynamics = lhc.beam_dynamics

# Симуляция динамики пучка
dynamics = beam_dynamics.simulate(num_turns=2000)

# Анализ эмиттанса
print(f"Начальный эмиттанс: {dynamics['emittance'][0]:.2e} м·рад")
print(f"Конечный эмиттанс: {dynamics['emittance'][-1]:.2e} м·рад")
print(f"Рост эмиттанса: {dynamics['emittance'][-1]/dynamics['emittance'][0]:.1f}x")

# Визуализация
beam_dynamics.visualize(num_turns=2000)
```

**Интерпретация результатов:**
- Эмиттанс постепенно растет из-за эффектов пространственного заряда
- Светимость снижается со временем, что требует периодической "перезарядки" пучка
- Вертикальный размер пучка обычно меньше горизонтального из-за фокусирующих свойств квадрупольных магнитов

### Задача 4: Сравнение параметров для различных частиц

**Цель:** Сравнить релятивистские параметры для протонов и электронов при одинаковой энергии.

**Решение:**
```python
from lhc_model import LHCModel

lhc = LHCModel()

# Энергия 6.5 ТэВ
energy = 6.5e12

# Для протонов
gamma_proton = lhc.calculate_relativistic_factor(energy, 'proton')
speed_proton = lhc.calculate_speed(energy, 'proton')
diff_proton = c - speed_proton

# Для электронов
gamma_electron = lhc.calculate_relativistic_factor(energy, 'electron')
speed_electron = lhc.calculate_speed(energy, 'electron')
diff_electron = c - speed_electron

print(f"Протоны при 6.5 ТэВ:")
print(f"- Лоренц-фактор: {gamma_proton:.0f}")
print(f"- Скорость: {speed_proton:.2f} м/с")
print(f"- Отличие от c: {diff_proton:.4f} м/с")

print(f"\nЭлектроны при 6.5 ТэВ:")
print(f"- Лоренц-фактор: {gamma_electron:.0f}")
print(f"- Скорость: {speed_electron:.2f} м/с")
print(f"- Отличие от c: {diff_electron:.10f} м/с")
```

**Интерпретация результатов:**
- Для протонов лоренц-фактор ~7000, для электронов ~13 млн
- Протоны движутся со скоростью, на ~3 м/с меньше скорости света
- Электроны движутся со скоростью, на ~0.00000003 м/с меньше скорости света
- Это объясняет, почему БАК использует протоны, а не электроны - у протонов значительно меньше потерь на синхротронное излучение

### Задача 5: Воспроизведение эксперимента по обнаружению бозона Хиггса

**Цель:** Симулировать условия, при которых был обнаружен бозон Хиггса.

**Решение:**
```python
from lhc_model import LHCModel

lhc = LHCModel()
collision_simulator = lhc.collision_simulator

# Симуляция столкновений при энергии 8 ТэВ (первая фаза обнаружения)
events_8tev = collision_simulator.simulate(energy=8e12, num_events=1000)

# Подсчет событий с производством бозона Хиггса
higgs_events = [e for e in events_8tev if e['event_type'] == 'higgs_boson_production']
print(f"Найдено {len(higgs_events)} событий с производством бозона Хиггса из 1000")

# Анализ каналов распада
decay_products = []
for event in higgs_events:
    for product in event['products']:
        if product['name'] != 'higgs_boson':  # Игнорируем сам бозон Хиггса
            decay_products.append(product['name'])

# Подсчет частоты различных каналов
from collections import Counter
decay_counts = Counter(decay_products)
print("\nЧастота каналов распада:")
for particle, count in decay_counts.most_common():
    print(f"- {particle}: {count} ({count/len(higgs_events):.1%})")

# Визуализация типичного события
if higgs_events:
    collision_simulator.visualize_interactive(energy=8e12)
```

**Интерпретация результатов:**
- При 1000 симуляциях будет найдено около 1-2 событий с производством бозона Хиггса
- Доминирующий канал распада - на пару b-кварков
- Для подтверждения открытия требуется статистически значимое количество событий
- В реальном эксперименте для обнаружения бозона Хиггса потребовались данные за несколько лет работы

## 6. Интерпретация результатов

### Ключевые моменты при анализе результатов:
1. **Статистическая природа результатов**: Из-за случайного характера процессов требуется многократная симуляция для получения статистически значимых результатов.

2. **Сравнение с реальными данными**: Для проверки модели можно сравнить полученные результаты с данными от CERN (доступны в открытом доступе).

3. **Ограничения модели**:
   - Упрощенные физические модели
   - Отсутствие некоторых эффектов (например, полная QCD)
   - Ограниченная точность визуализации

4. **Анализ неопределенностей**: В реальных экспериментах важны не только средние значения, но и их неопределенности.

## 7. Рекомендации по использованию

1. Для учебных целей рекомендуется запускать `run_full_simulation()` с небольшим количеством столкновений (5-10).

2. При исследовании конкретных явлений используйте целевые методы (например, `visualize_particle_decay()` для изучения распадов).

3. Для получения статистически значимых результатов при симуляции редких процессов (например, производство бозона Хиггса) увеличьте количество симуляций.

4. Сравнивайте результаты с реальными данными из открытых источников (CERN Open Data Portal).

5. Используйте интерактивные визуализации (требуется Plotly) для лучшего понимания процессов.

## 8. Типичные ошибки и их решение

1. **Ошибка: "ModuleNotFoundError: No module named 'plotly'"**
   - Решение: Установите Plotly: `pip install plotly`
   - Альтернатива: Используйте базовые методы визуализации без Plotly

2. **Ошибка при создании анимации: "Error saving animation"**
   - Решение: Установите ffmpeg или используйте GIF-формат
   - Альтернатива: Отключите создание анимации в коде

3. **Нереалистичные результаты при симуляции**
   - Проверьте, правильно ли задана энергия (в эВ, а не в ТэВ)
   - Убедитесь, что используете актуальную версию модели с обновленными параметрами

4. **Долгое выполнение симуляции**
   - Уменьшите количество столкновений или оборотов
   - Для быстрой проверки используйте упрощенные методы

## 9. Дополнительные возможности

### 9.1. Экспорт данных в ROOT
```python
# Экспорт результатов симуляции в формат ROOT
lhc.export_to_root("lhc_results.root")
```
Этот функционал позволяет интегрировать результаты симуляции с профессиональными инструментами анализа данных, используемыми в CERN.

### 9.2. Генерация событий с помощью MadGraph
```python
# Генерация событий с использованием MadGraph
lhc.generate_events_with_madgraph(process="p p > h", num_events=100)
```
Эта функция позволяет использовать профессиональные инструменты генерации событий для более реалистичной симуляции.

### 9.3. Анализ параметрических зависимостей
```python
# Визуализация зависимостей ключевых параметров
lhc.visualization.visualize_parameter_dependencies()
```
Этот метод показывает 6 графиков, демонстрирующих важные физические зависимости в работе коллайдера.

## Заключение

Эта улучшенная модель Большого адронного коллайдера предоставляет мощный инструмент для изучения физики высоких энергий. Хотя она является учебной и имеет определенные ограничения, она позволяет глубоко понять принципы работы реального коллайдера и основные физические процессы, происходящие в нем.

Для дальнейшего изучения рекомендуется:
1. Экспериментировать с различными параметрами
2. Сравнивать результаты с реальными данными
3. Изучать дополнительные материалы от CERN
4. При необходимости расширять модель своими улучшениями

Удачи в изучении физики элементарных частиц!
